geom_line() +
facet_wrap(vars(measure), ncol = 2, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 20, height = 20, units = "cm")
#'
#' Plot vent.
#'
#' @param baseline Length of baseline in minutes.
#' @return A list of dataframes of class vent.
#' @importFrom rlang .data
#' @export
#'
#'
# & dat_sm$measure %in% unique(xx$measure)[1:10]
xx <-  dat_sm[dat_sm$subj == "rat1", ]
fig <- ggplot2::ggplot(xx, aes(int_min, mean)) +
geom_line() +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean)) +
geom_point() +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(int_min), max(int_min), 3)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(int_min), max(int_min), 3)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(int_min), max(int_min), 3), labels = seq(min(int_min), max(int_min), 3)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(int_min), max(int_min), 3), labels = seq(min(int_min), max(int_min), 3)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(xx$int_min), max(xx$int_min), 3), labels = seq(min(xx$int_min), max(xx$int_min), 3)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), brakes = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), breakes = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), breaks = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +s d)) +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), breaks = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
fig <- ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), breaks = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggsave("prova.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
library(rvent)
library(rvent)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
load("~/Documents/R_projects/rvent/data/sess1.rda")
load("~/Documents/R_projects/rvent/data/dat_sm.rda")
usethis::use_data(dat_sm, sess1, vent_head, internal = TRUE)
usethis::use_data(dat_sm, sess1, vent_head, internal = TRUE, overwrite = TRUE)
xx <-  dat_sm[dat_sm$subj == "rat1", ]
View(xx)
xx$cpudate[1]
xx$cpudate[1]
View(xx)
View(xx)
title <- paste0(xx$cpu_date[1])
xx$cpu_date[1]
as.character(xx$cpu_date[1])
paste(as.character(xx$cpu_date[1]), xx$subj, xx$drug, xx$dose, xx$unit, sep = " ")
paste(as.character(xx$cpu_date[1]), xx$subj[1], xx$drug[1], xx$dose[1], xx$unit[1], sep = " ")
ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), breaks = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
library(ggplot2)
ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), breaks = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y")
ggplot2::ggplot(xx, aes(int_min, mean, col = measure), ) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(xx$int_min), max(xx$int_min), 15), breaks = seq(min(xx$int_min), max(xx$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
theme(legend.position = "none")
load("~/Documents/R_projects/rvent/R/sysdata.rda")
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
View(dat_sm)
class(dat_sm)
class(dat_sm) <- list(class(dat_sm), "vent")
class(dat_sm)
class(dat_sm) <- c("grouped_df", "tbl_df" ,    "tbl"     ,   "data.frame")
class(dat_sm)
list(unlist(class(dat_sm)), "vent")
c(unlist(class(dat_sm)), "vent")
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm)
library(ggplot2)
ggplot(dat_sm)
prova <- ggplot(dat_sm)
prova
ggplot(dat_sm, save = TRUE, path = svDialogs::dlg_dir()$res)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm, save = TRUE, path = svDialogs::dlg_dir()$res)
class(dat_sm)
class(dat_sm) <- "vent"
ggplot(dat_sm, save = TRUE, path = svDialogs::dlg_dir()$res)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm, save = TRUE, path = svDialogs::dlg_dir()$res)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm, save = TRUE, path = svDialogs::dlg_dir()$res)
ggplot(dat_sm, save = FALSE)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm, save = FALSE)
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
fig
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point()
ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
getAnywhere(ggplot.resamples)
install.packages("caret")
methods("resamples")
methods(class = "resamples")
methods(ggplot)
methods(ggplot)
library(caret)
methods(ggplot)
getAnywhere(ggplot.resamples)
ggplot(dat_sm, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
class(dat_sm)
class(sess1)
class(vent_head)
class(dat_sm) <- "data.frame"
ggplot(dat_sm, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
ggplot(dat_sm, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd))
ggplot(dat_sm, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
# scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
# if (save == TRUE) {
# setwd(path)
ggsave(file_name, fig, device = "pdf", width = 40, height = 40, units = "cm")
# if (save == TRUE) {
# setwd(path)
ggsave("xxx.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot(dat_sm, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
# scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
# if (save == TRUE) {
# setwd(path)
ggsave("xxx.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
class(dat_sm)
fig <- ggplot(dat_sm, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean +sd)) +
# scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
# if (save == TRUE) {
# setwd(path)
ggsave("xxx.pdf", fig, device = "pdf", width = 40, height = 40, units = "cm")
fig <- ggplot(dat_sm, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
# geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
# scale_x_continuous(labels = seq(min(dat$int_min), max(dat$int_min), 15), breaks = seq(min(dat$int_min), max(dat$int_min), 15)) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot.vent <- function(dat) {
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
label <- seq(min(dat$int_min), max(dat$int_min), 15)
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
return(fig)
# }
}
class(dat_sm)
class(dat_sm) <- c("data.frame", "vent")
ggplot(dat_sm)
getAnywhere(ggplot.resample)
getAnywhere(ggplot.resamples)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm)
ggplot(dat_sm)
Q
library(rvent)
class(dat_sm)
library(rvent)
rm(fig)
class(dat_sm)
library(ggplot)
library(ggplots)
ggplot(data_sm)
ggplot(dat_sm)
class(dat_sm)
devtools::missing_s3()
library(rvent)
class(dat_sm)
ggplot(dat_sm)
ggplot(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm)
ggplot(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(dat_sm)
library(rvent)
ggplot(dat_sm)
ggplot(dat_sm)
library(rvent)
ggplot(dat_sm[dat_sm$subj == "rat1",])
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
plotvent(dat_sm[dat_sm$subj == "rat1",])
plotvent(dat_sm[dat_sm$subj == "rat1",])
ulimit -s unlimited
ulimit -s
data <- dat_sm
title <- paste(as.character(data$cpu_data[1]), data$subj[1], data$drug[1], data$dose[1], data$unit[1], sep = " ")
file_name <- paste(as.character(data$cpu_datae[1]), data$subj[1], data$drug[1], data$dose[1], data$unit[1], sep = "_")
label <- seq(min(data$int_min), max(data$int_min), 15)
fig <- ggplot(data, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
data <- data[data$subj == "rat1", ]
title <- paste(as.character(data$cpu_data[1]), data$subj[1], data$drug[1], data$dose[1], data$unit[1], sep = " ")
file_name <- paste(as.character(data$cpu_datae[1]), data$subj[1], data$drug[1], data$dose[1], data$unit[1], sep = "_")
label <- seq(min(data$int_min), max(data$int_min), 15)
fig <- ggplot(data, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
ggplot(data, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line()
library(rvent)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
class(dat_sm) c("data.frame", "vent")
class(dat_sm) <- c("data.frame", "vent")
ggplot.vent(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot.vent(dat_sm)
library(ggplot2)
ggplot.vent(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot.vent(dat_sm)
library(rvent)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
xx <- dat_sm[dat_sm$subj == "rat1, ]
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplotvent(xx)
""
""
xx <- dat_sm[dat_sm$subj == "rat1", ]
ggplotvent(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplotvent(xx)
library(ggplot2)
ggplotvent(xx)
ggplotvent <-function(dat = NULL, mapping = NULL,...){
# xx <- dat_sm[dat_sm$subj == "rat1", ]
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
dat$int_min <- as.numeric(dat$int_min)
label <- seq(min(dat$int_min), max(dat$int_min), 15)
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
# scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
return(fig)
}
ggplotvent(xx)
ggplotvent <-function(dat = NULL, mapping = NULL,...){
# xx <- dat_sm[dat_sm$subj == "rat1", ]
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
dat$int_min <- as.numeric(dat$int_min)
label <- as.numeric(seq(min(dat$int_min), max(dat$int_min), 15))
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
# scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
return(fig)
}
ggplotvent(xx)
class(xx) <- c("data.frame", "vent")
ggplot.vent <-function(dat = NULL, mapping = NULL,...){
# xx <- dat_sm[dat_sm$subj == "rat1", ]
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
dat$int_min <- as.numeric(dat$int_min)
label <- as.numeric(seq(min(dat$int_min), max(dat$int_min), 15))
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
return(fig)
}
ggplot(xx)
library(rvent)
ggplot(xx)
class(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
getAnywhere(ggplot.vent)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
autoplot(xx)
install.packages("precrec")
getAnywhere(.prepare_autoplot)
getAnywhere(prepare_autoplot)
library(precrec)
getAnywhere(prepare_autoplot)
getAnywhere(.prepare_autoplot)
getAnywhere(.load_ggplot2)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot(xx)
View(xx)
autoplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot_vent(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot_vent(xx)
