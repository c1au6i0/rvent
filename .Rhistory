theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
ggplot(data, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line()
library(rvent)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
class(dat_sm) c("data.frame", "vent")
class(dat_sm) <- c("data.frame", "vent")
ggplot.vent(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot.vent(dat_sm)
library(ggplot2)
ggplot.vent(dat_sm)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot.vent(dat_sm)
library(rvent)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
xx <- dat_sm[dat_sm$subj == "rat1, ]
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplotvent(xx)
""
""
xx <- dat_sm[dat_sm$subj == "rat1", ]
ggplotvent(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplotvent(xx)
library(ggplot2)
ggplotvent(xx)
ggplotvent <-function(dat = NULL, mapping = NULL,...){
# xx <- dat_sm[dat_sm$subj == "rat1", ]
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
dat$int_min <- as.numeric(dat$int_min)
label <- seq(min(dat$int_min), max(dat$int_min), 15)
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
# scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
return(fig)
}
ggplotvent(xx)
ggplotvent <-function(dat = NULL, mapping = NULL,...){
# xx <- dat_sm[dat_sm$subj == "rat1", ]
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
dat$int_min <- as.numeric(dat$int_min)
label <- as.numeric(seq(min(dat$int_min), max(dat$int_min), 15))
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
# scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
return(fig)
}
ggplotvent(xx)
class(xx) <- c("data.frame", "vent")
ggplot.vent <-function(dat = NULL, mapping = NULL,...){
# xx <- dat_sm[dat_sm$subj == "rat1", ]
title <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = " ")
file_name <- paste(as.character(dat$cpu_date[1]), dat$subj[1], dat$drug[1], dat$dose[1], dat$unit[1], sep = "_")
dat$int_min <- as.numeric(dat$int_min)
label <- as.numeric(seq(min(dat$int_min), max(dat$int_min), 15))
fig <- ggplot(dat, aes(int_min, mean, col = measure)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd)) +
scale_x_continuous(labels = labels, breaks = labels) +
facet_wrap(vars(measure), ncol = 4, scale = "free_y") +
labs(title = title, y = "mean +/- stdev", x = "minutes") +
theme(legend.position = "none",
plot.title = element_text(hjust = 0.5)
)
return(fig)
}
ggplot(xx)
library(rvent)
ggplot(xx)
class(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
getAnywhere(ggplot.vent)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
ggplot(xx)
autoplot(xx)
install.packages("precrec")
getAnywhere(.prepare_autoplot)
getAnywhere(prepare_autoplot)
library(precrec)
getAnywhere(prepare_autoplot)
getAnywhere(.prepare_autoplot)
getAnywhere(.load_ggplot2)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot(xx)
View(xx)
autoplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot_vent(xx)
source('~/Documents/R_projects/rvent/R/plot_vent.R', echo=TRUE)
autoplot_vent(xx)
library(rvent)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
session_plots(sess1)
session_plots(sess1, "~/Desktop")
if (!"vent" %in% class(dat)) stop("Object is not of class vent")
!"vent" %in% class(dat)
class(dat)
source('~/Documents/R_projects/rvent/R/session_plots.R', echo=TRUE)
session_plots(sess1, "~/Desktop")
class(dat_sm)
dat_sml <- split.data.frame(dat_sm, dat_sm$subj)
class(dat_sml)
class(dat_sml)[[1]]
class(dat_sml)[1]
source('~/Documents/R_projects/rvent/R/autoplot_vent.R', echo=TRUE)
source('~/Documents/R_projects/rvent/R/session_plots.R', echo=TRUE)
session_plots(sess1, "~/Desktop")
session_plots(sess1, "~/Desktop")
source('~/Documents/R_projects/rvent/R/session_plots.R', echo=TRUE)
session_plots(sess1, "~/Desktop")
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
session_plots(sess1, "~/Desktop")
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
session_plots(sess1, "~/Desktop")
class(dat_sml) <- class(dat_sml) <- c(unlist(class(dat_sml)), "vent")
class(dat_sml)
dat_sml[[1]]
class(dat_sml[[1]])
dat_sml <- split.data.frame(dat_sm, dat_sm$subj)
for (x in dat_sml) {
class(x) <- c(unlist(class(x)), "vent")
}
for (x in dat_sml) {
class(x) <- c(unlist(class(x)), "vent")
}
class(dat_sml[[1]])
for (x in dat_sml) {
class(x) <- c(unlist(class(x)), "vent")
}
for (x in dat_sml) {
class(x)
}
for (x in dat_sml) {
class(x)
}
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
session_plots(sess1, "~/Desktop")
class(dat_sml[[1]])
for (x in dat_sml) {
class(x) <- c(unlist(class(x)), "vent")
}
class(x)
c(unlist(class(x)), "vent")
for (x in dat_sml) {
class(x) <- c(unlist(class(x)), "vent")
}
source('~/Documents/R_projects/rvent/R/session_plots.R')
for (x in dat_sml) {
class(x) <- "vent"
}
for (x in dat_sml) {
class(x) <- "vent"
}
for (x in dat_sml) {
class(x)
}
for (x in dat_sml) {
class(x)
}
dat_sml <- split.data.frame(dat_sm, dat_sm$subj)
for (x in dat_sml) {
class(x)
}
dat_sml <- split.data.frame(dat_sm, dat_sm$subj)
for (x in dat_sml) {
class(x)
}
for (x in dat_sml) {
cat(class(x))
}
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
source('~/Documents/R_projects/rvent/R/session_plots.R')
lapply(split.data.frame(dat_sm, dat_sm$subj), function(x){
class(x) <- "vent"
autoplot_vent(x)
}
)
source('~/Documents/R_projects/rvent/R/import_session.R', echo=TRUE)
source('~/Documents/R_projects/rvent/R/session_plots.R', echo=TRUE)
session_plots(sess1, "~/Desktop")
library(ggplot2)
session_plots(sess1, "~/Desktop")
session_plots <-function(dat, path) {
dat_vent <- summarize_vent_ni(dat = dat, basel = 30, bin = 3)
dat_sm <- dat_vent[[1]]
setwd(path)
dat_sml <- split.data.frame(dat_sm, dat_sm$subj)
lapply(split.data.frame(dat_sm, dat_sm$subj), function(x){
class(x) <- c("vent", "data.frame")
autoplot_vent(x)
}
)
}
session_plots(sess1, "~/Desktop")
source('~/Documents/R_projects/rvent/R/autoplot_vent.R')
session_plots(sess1, "~/Desktop")
source('~/Documents/R_projects/rvent/R/autoplot_vent.R')
source('~/Documents/R_projects/rvent/R/autoplot_vent.R', echo=TRUE)
session_plots(sess1, "~/Desktop")
View(dat_sm)
source('~/Documents/R_projects/rvent/R/autoplot_vent.R')
source('~/Documents/R_projects/rvent/R/autoplot_vent.R')
session_plots(sess1, "~/Desktop")
source('~/Documents/R_projects/rvent/R/autoplot_vent.R')
library(rvent)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
autoplot_vent(sess1)
autoplot_vent(sess1, "~/Desktop")
session_plots(sess1, "~/Desktop")
source('~/Documents/R_projects/rvent/R/session_plots.R', echo=TRUE)
ls(dat_sm)
class(dat_sm)
class(dat_sm) <- "vent"
ls(dat_sm)
source('~/Documents/R_projects/rvent/R/session_plots.R', echo=TRUE)
ls.vent(dat_sm)
ls(dat_sm)
class(dat_sm)
getAnywhere(autoplot)
baz <- function(x) UseMethod("baz", x)
baz.A <- function(x) "A"
baz.B <- function(x) "B"
ab <- structure(1, class = c("A", "B"))
ba <- structure(1, class = c("B", "A"))
baz(ab)
baz(ba)
# Turn object into class A - doesn't work!
baz.D <- function(x) {
class(x) <- "A"
NextMethod()
}
da <- structure(1, class = c("D", "A"))
db <- structure(1, class = c("D", "B"))
baz(da)
baz(db)
View(dat_sm)
source('~/Documents/R_projects/rvent/R/autoplot_vent.R', echo=TRUE)
class(dat_sm)
class(dat_sm) <- c("vent", "data.frame")
source('~/Documents/R_projects/rvent/R/autoplot_vent.R', echo=TRUE)
autoplot(dat_sm)
source('~/Documents/R_projects/rvent/R/autoplot_vent.R', echo=TRUE)
library(ggplot2)
autoplot(dat_sm)
getwd()
lapply(split.data.frame(dat_sm, dat_sm$subj), function(x){
class(x) <- c("vent", "data.frame")
autoplot(x)
}
)
source('~/Documents/R_projects/rvent/R/session_plots.R', echo=TRUE)
session_plots(sess1, "~/Desktop")
library(rvent)
install.packages("sloop")
sloop::s3_dispatch(autoplot)
load("~/Documents/R_projects/rvent/R/sysdata.rda")
class(dat_sm) <- c("vent", "data.frame")
sloop::s3_dispatch(autoplot(dat_sm))
library(rvent)
library(caret)
is.resamples()
library(rvent)
library(rvent)
library(rvent)
library(rvent)
vent()
load("~/Documents/R_projects/rvent/R/sysdata.rda")
session_plots(sess1, "~/Desktop")
library(rvent)
View(dat_sm)
vent(dat_sm)
class(dat_sm)
source('~/Documents/R_projects/rvent/R/vent.R', echo=TRUE)
vent(dat_sm)
usethis::use_mit_license("Claudio Zanettini")
usethis::use_readme_md()
library(rvent)
sess1 <- import_session()
summarize_vent(sess1)
summarize_vent(sess1)
source('~/Documents/R_projects/rvent/R/summarize_vent.R', echo=TRUE)
summarize_vent(sess1)
library(rvent)
sess1 <- import_session()
summarize_vent(sess1)
summarize_vent(sess1)
summarize_vent(sess1)
summarize_vent(sess1)
session_plots(sess1)
session_plots(sess1, svDialogs::dlg_dir()$res)
if (!require(devtools))
cat("ciao")
!require(devtools)
require(devtools)
usethis::use_readme_rmd()
load("~/Documents/R_projects/rvent/R/sysdata.rda")
View(sess1)
rm(sess1)
rm(dat_sm)
# open dialog to select the directory with iox files to import
# import them and make them tidy
sess1 <- import_session()
library(rvent)
# open dialog to select the directory with iox files to import
# import them and make them tidy
sess1 <- import_session()
source('~/Documents/R_projects/rvent/R/summarize_vent_ni.R', echo=TRUE)
dfs <- summarize_vent_ni(sess1)
library(magrittr)
dfs <- summarize_vent_ni(sess1)
dat_sm <- dfs$dat_sm
dat_sm <- dfs$dat_fs
dat_sm <- dfs$dat_sm
dat_fs <- dfs$dat_fs
dat_fs
head(dat_fs, 10)
usethis::use_data(dat_fs, dat_sm, sess1, vent_head, internal = TRUE)
usethis::use_data(dat_fs, dat_sm, sess1, vent_head, internal = TRUE, overwrite = TRUE)
dat_sm %>%
filter(subj == "rat1")
dat_sm
dat_sm %>%
filter(subj == "rat1")
dat_sm %>%
filter(.data$subj == "rat1")
dat_sm %>%
filter(subj == "rat1")
dat_sm
dat_sm %>%
filter(dat_sm$subj == "rat1")
dat_sm %>%
tibble() %>%
filter(, subj == "rat1")
dat_sm %>%
tibble::as_tibble() %>%
filter(, subj == "rat1")
dat_sm %>%
tibble::as_tibble() %>%
filter(subj == "rat1")
dat_sm %>%
tibble::as_tibble() %>%
filter("subj" == "rat1")
dat_sm[dat_sm$subj == "rat1",]
dat_sm[dat_sm$subj == "rat1",] %>%
rename(drug = "drugX", subj = "subj1")
library(tidyverse)
dat_sm[dat_sm$subj == "rat1",] %>%
rename(drug = "drugX", subj = "subj1")
dat_sm[dat_sm$subj == "rat1",] %>%
rename(drugX = drug, subj1 = subj)
dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1")
mutate(drug = "latte+", subj = "Alex DeLarge")
dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "latte+", subj = "Alex DeLarge")
class(dat_sm)
dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge") %>%
autoplot()
dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge") %>%
rvent::autoplot()
dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge") %>%
autoplot()
dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge") %>%
autoplot.vent()
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
library(vent)
library(rvent)
library(rvent)
library(tidyverse)
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
class(x) <- c("vent", "data.frame")
autoplot(x)
library(rvent)
library(tidyverse)
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
class(x) <- c("vent", "data.frame")
autoplot(x)
source('~/Documents/R_projects/rvent/R/vent.R', echo=TRUE)
library(rvent)
library(tidyverse)
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
class(x) <- c("vent", "data.frame")
autoplot(x)
source('~/Documents/R_projects/rvent/R/vent.R', echo=TRUE)
library(rvent)
library(tidyverse)
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
class(x) <- c("vent", "data.frame")
autoplot(x)
autoplot(x)
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
class(x)
autoplot(x, fsave = FALSE)
class(x) <- c("vent", "data.frame")
autoplot(x, fsave = FALSE)
source('~/Documents/R_projects/rvent/R/vent.R', echo=TRUE)
library(rvent)
library(tidyverse)
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
class(x) <- c("vent", "data.frame")
autoplot(x, fsave = FALSE)
library(rvent)
blogdown:::insert_image_addin()
usethis::use_badge(badge_travis)
usethis::use_badge(travis)
install.packages("badger")
badge_devel(pkg = NULL, "blue")
library(badger)
badge_devel(pkg = NULL, "blue")
badge_devel("https://github.com/c1au6i0/rvent", "blue")
badge_code_size("https://github.com/c1au6i0/rvent")
badge_last_commit("https://github.com/c1au6i0/rvent")
badge_last_commit("c1au6i0/rvent")
badge_travis("c1au6i0/rvent")
library(rvent)
readRDS("/Users/heverz/Documents/R_projects/rvent/R/sysdata.rda")
readRDS(file = "/Users/heverz/Documents/R_projects/rvent/R/sysdata.rda")
svDialogs::dlg_dir()$res
svDialogs::dlg_input()$res
svDialogs::dlg_file()$res
svDialogs::dlg_open()$res
readRDS(file = "/Users/heverz/Documents/R_projects/rvent/R/sysdata.rda")
load(file = "/Users/heverz/Documents/R_projects/rvent/R/sysdata.rda")
load(file = "/Users/heverz/Documents/R_projects/rvent/R/sysdata.rda")
load(file = "/Users/heverz/Documents/R_projects/rvent/R/sysdata.rda")
dat_sm
x <- dat_sm[dat_sm$subj == "rat1",] %>%
filter(subj == "rat1") %>%
mutate(drug = "milk-plus", subj = "Alex_DeLarge")
git add .
